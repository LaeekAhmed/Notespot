import mongoose from 'mongoose';
import path from 'path';
import Blob from 'node-blob';
const DocSchema=new mongoose.Schema({title:{type:String,required:!0},description:{type:String},publish_date:{type:Date,default:Date.now},path:{type:String,required:!0},size:{type:Number,required:!0},uuid:{type:String,required:!0},file_name:{type:String,required:!0},file_url:{type:String,required:!0},coverImage:{type:Buffer,required:!0},coverImageType:{type:String,required:!0},author:{type:mongoose.Schema.Types.ObjectId,ref:"Author"}},{timestamps:!0});DocSchema.virtual("coverImagePath").get(function(){if(null!=this.coverImage&&null!=this.coverImageType){let e=`data:${this.coverImageType};charset=utf-8;base64,${this.coverImage.toString("base64")}`;return e}}),module.exports=mongoose.model("Doc",DocSchema);